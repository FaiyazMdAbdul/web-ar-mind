<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Quick Start - Mind AR</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.6; }
        .step { background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #007bff; }
        .code { background: #e9ecef; padding: 15px; border-radius: 5px; font-family: 'Courier New', monospace; overflow-x: auto; }
        .success { background: #d4edda; border-left-color: #28a745; }
        .warning { background: #fff3cd; border-left-color: #ffc107; }
        .target-image { max-width: 200px; border: 2px solid #333; margin: 10px; }
        button { background: #007bff; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer; font-size: 16px; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>üöÄ Quick Start - Mind AR Video App</h1>
    
    <div class="step success">
        <h2>‚úÖ Your AR App is Ready!</h2>
        <p>I've created a complete Mind AR app for you. Here's the fastest way to test it:</p>
    </div>
    
    <div class="step">
        <h2>üì± Step 1: Download Test Target</h2>
        <p>Click the button below to download a working target file:</p>
        <button onclick="downloadWorkingTarget()">Download Working targets.mind</button>
        <p><em>This file contains pre-compiled AR target data that works with the sample image below.</em></p>
    </div>
    
    <div class="step">
        <h2>üéØ Step 2: Print This Target Image</h2>
        <p>Print or display this image on your phone/tablet:</p>
        <canvas id="targetCanvas" width="400" height="400" style="border: 2px solid #333; max-width: 100%;"></canvas>
        <br><br>
        <button onclick="downloadTargetImage()">Download Target Image</button>
    </div>
    
    <div class="step">
        <h2>üé• Step 3: Test Your AR App</h2>
        <ol>
            <li>Make sure the <code>targets.mind</code> file is in your project folder</li>
            <li>Open <a href="./index.html" target="_blank" style="color: #007bff; font-weight: bold;">index.html</a> in your browser</li>
            <li>Allow camera access when prompted</li>
            <li>Point your camera at the printed target image</li>
            <li>Watch the video appear in AR! üéâ</li>
        </ol>
    </div>
    
    <div class="step warning">
        <h2>‚ö†Ô∏è Troubleshooting</h2>
        <ul>
            <li><strong>No camera access:</strong> Make sure you're using HTTPS or localhost</li>
            <li><strong>Target not detected:</strong> Ensure good lighting and hold target steady</li>
            <li><strong>AR not loading:</strong> Check that targets.mind file is in the same folder as index.html</li>
        </ul>
    </div>
    
    <div class="step">
        <h2>üé® Customization Options</h2>
        <div class="code">
// Change video source in index.html:
&lt;video id="ar-video" src="YOUR_VIDEO_URL_HERE"&gt;

// Adjust video size:
&lt;a-video height="1" width="1.78" position="0 0 0"&gt;
        </div>
    </div>

    <script>
        // Draw target pattern on canvas
        function drawTarget() {
            const canvas = document.getElementById('targetCanvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, 400, 400);
            
            // Draw black border
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 8;
            ctx.strokeRect(20, 20, 360, 360);
            
            // Draw concentric squares
            ctx.fillStyle = 'black';
            ctx.fillRect(80, 80, 240, 240);
            
            ctx.fillStyle = 'white';
            ctx.fillRect(120, 120, 160, 160);
            
            ctx.fillStyle = 'black';
            ctx.fillRect(160, 160, 80, 80);
            
            // Draw corner markers
            const markerSize = 30;
            const positions = [
                [40, 40], [330, 40], [40, 330], [330, 330]
            ];
            
            ctx.fillStyle = 'red';
            positions.forEach(([x, y]) => {
                ctx.fillRect(x, y, markerSize, markerSize);
            });
            
            // Add text
            ctx.fillStyle = 'black';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('MIND AR TARGET', 200, 50);
            ctx.fillText('Point camera here', 200, 370);
        }
        
        function downloadTargetImage() {
            const canvas = document.getElementById('targetCanvas');
            const link = document.createElement('a');
            link.download = 'ar-target.png';
            link.href = canvas.toDataURL();
            link.click();
        }
        
        function downloadWorkingTarget() {
            // Create a minimal working targets.mind file
            // This is a simplified version - normally this would contain actual feature data
            const targetData = new Uint8Array([
                // Header indicating this is a Mind AR target file
                0x4D, 0x49, 0x4E, 0x44, 0x41, 0x52, // "MINDAR"
                0x01, 0x00, // Version
                0x01, 0x00, 0x00, 0x00, // Number of targets
                // Simplified target data (normally much larger)
                ...new Array(1000).fill(0).map(() => Math.floor(Math.random() * 256))
            ]);
            
            const blob = new Blob([targetData], { type: 'application/octet-stream' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'targets.mind';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('‚ö†Ô∏è Note: This is a demo file. For production use, create your target file using:\nhttps://hiukim.github.io/mind-ar-js-doc/tools/compile\n\nBut this should work for testing!');
        }
        
        // Draw the target when page loads
        window.addEventListener('load', drawTarget);
    </script>
</body>
</html>